<div class="modal-header">
    <h4 class="modal-title pull-left">New User</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="bsModalRef.hide()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
    <form #userForm="ngForm" [formGroup]="userService.addUserFormModal" id="UserAddForm" autocomplete="off">
        <div class="form-group">
            <select formControlName="ProgramId" class="form-control" [ngClass]="{'is-invalid': userService.addUserFormModal.get('ProgramId').errors && userService.addUserFormModal.get('ProgramId').touched}">
                  <option [ngValue] ="null" disabled selected>Please Select Programme</option>
                  <option *ngFor="let programme of drProgrammes" [value]="programme.id">{{programme.programmeName}}</option>
                </select>
            <div class="text-danger" *ngIf="(userService.addUserFormModal.get('ProgramId').touched && userService.addUserFormModal.get('ProgramId').hasError('required'))
            || (submitted && userService.addUserFormModal.get('ProgramId').errors)">
                This field is required</div>
        </div>
        <div class="form-group">
            <select formControlName="ProvinceId" class="form-control" [ngClass]="{'is-invalid': userService.addUserFormModal.get('ProvinceId').errors && userService.addUserFormModal.get('ProvinceId').touched}">
      <option [ngValue]="null" disabled selected>Please Select Province</option>
      <option *ngFor="let province of drProvince" [value]="province.id">{{province.provinceName}}</option>
    </select>
            <div class="text-danger" *ngIf="(userService.addUserFormModal.get('ProvinceId').touched && userService.addUserFormModal.get('ProvinceId').hasError('required'))
            || (submitted && userService.addUserFormModal.get('ProvinceId').errors)">
                This field is required</div>
        </div>
        <div class="form-group">
            <select formControlName="RoleId" class="form-control" [ngClass]="{'is-invalid': userService.addUserFormModal.get('RoleId').errors && userService.addUserFormModal.get('RoleId').touched}">
                <option [ngValue] ="null" disabled selected>Please Select Role</option>
                <option *ngFor="let role of drRoles" [value]="role.id">{{role.name}}</option>
              </select>
            <div class="text-danger" *ngIf="(userService.addUserFormModal.get('RoleId').touched && userService.addUserFormModal.get('RoleId').hasError('required'))
            || (submitted && userService.addUserFormModal.get('RoleId').errors)">
                This field is required</div>
        </div>
        <div class="form-group">
            <input placeholder="User Name" formControlName="UserName" [ngClass]="{'is-invalid': userService.addUserFormModal.get('UserName').errors && userService.addUserFormModal.get('UserName').touched}" class="form-control">
            <div class="text-danger" *ngIf="(userService.addUserFormModal.get('UserName').touched && userService.addUserFormModal.get('UserName').hasError('required'))
            || (submitted && userService.addUserFormModal.get('UserName').errors)">
                This field is required</div>
        </div>
        <div class="form-group">
            <input type="password" autocomplete="new-password" placeholder="Password" formControlName="Password" [ngClass]="{'is-invalid': userService.addUserFormModal.get('Password').errors && userService.addUserFormModal.get('Password').touched}" class="form-control">
            <div class="text-danger" *ngIf="(userService.addUserFormModal.get('Password').touched && userService.addUserFormModal.get('Password').hasError('required'))
            || (submitted && userService.addUserFormModal.get('Password').errors)">
                Password field is required and must be 4 to 8 characters</div>
        </div>
    </form>

    <!-- <div><app-Upload (onUploadFinished)="uploadFinished($event)"></app-Upload></div> -->
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default" (click)="bsModalRef.hide(); this.userService.addUserFormModal.reset();">Cancel</button>
    <button type="button" class="btn btn-success" (click)="addUser()">Save</button>
</div>